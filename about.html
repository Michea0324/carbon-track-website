<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CTB碳账户小队</title>
  <script src="js/jquery.min.js"></script>
  <link rel="icon" href="/img/team.jpg" type="image/JPG">
  <!-- 引入Bootstrap和jQuery的CDN链接 -->
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <script src="js/bootstrap.min.js"></script>
  <script src="js/nav.js"></script>
  <!-- 引入Bootstrap.css -->
  <!-- 引入扁平化图标库 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <!-- 自定义CSS样式 -->
  <link rel="stylesheet" href="/css/index.css">
  <style>/* 设置卡片的最小高度 */
  .jumbotron button,
  .card button {
    background-color: #ffbe16; /* 按钮背景颜色 */
    border: none; /* 移除边框 */
    color: black; /* 文字颜色 */
    font-weight: bold; /* 字体加粗 */
    padding: 10px 20px; /* 内边距 */
    border-radius: 20px; /* 圆角边框 */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* 过渡动画 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 阴影效果 */
  }

  .btn-8uccess {
    color: rgb(255, 214, 51);
    background-color: rgb(255, 214, 51);
    border-color: rgb(255, 214, 51);
  }

  /* 鼠标悬停在按钮上时的样式 */
  .jumbotron button:hover,
  .card button:hover {
    background-color: #ffd633; /* 按钮背景颜色变化 */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* 阴影效果加深 */
  }

  /* 响应式布局：在小屏幕设备上卡片占满整个列宽 */
  @media (max-width: 768px) {
    .col-md-4 {
      flex: 0 0 100%;
      max-width: 100%;
    }
  }

  .section-achievements {
    margin-top: 1.5rem; /* 调整这个值以匹配第一部分与上面部分的间隔 */
  }
  </style>
</head>
<body>
<!-- 导航栏 -->
<nav class="navbar navbar-expand-sm navbar-dark">

  <div class="container">
    <a class="navbar-brand" href="index.html">校园碳账户 DEMO |</a>
    <a class="navbar-brand" href="index.html">
      <img src="/img/team.png" alt="CarbonTrack校园碳账户" style="height: 100px;"></a>
    <a class="navbar-brand" href="index.html">CarbonTrack</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <span id="userStatus" class="navbar-text mr-3"></span>
        </li>
        <!--
                            <li class="nav-item">
                                <a class="nav-link" href="#">联系我们</a>
                            </li>-->

        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#registerModal">注册</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#loginModal">登录</a>
        </li>
        <li class="nav-item">
          <button id="logoutButton" class=" logoutControl btn btn-sm btn-danger" onclick="logout()"
                  style="display:none;">注销
          </button>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html">首页</a>
        </li>
        <li class="nav-item">
          <a class="logoutControl nav-link " href="#" data-toggle="modal" data-target="#messagesModal"><i
              class="logoutControl fas fa-envelope" style="color: rgba(255, 255, 255, .5);font-size: 24px;"></i></a>
          <div class="badge-container">
            <span id="unreadMessagesCount" class="badge badge-danger" style="display: none;">0</span>
          </div>
        </li>
        <li class="nav-item">
          <a id="logoutButton logoutControl" class=" logoutControl nav-link" href="calculate.html">碳减排核算入口</a>
        </li>

        <li class="nav-item">
          <a id="logoutControl" class=" logoutControl nav-link" href="CStore.html">碳积分商城入口</a>
        </li>
        <li class="nav-item">
          <a id=" logoutControl" class="logoutControl nav-link" href="center.html">用户中心</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="about.html">关于我们</a>
        </li>

      </ul>
    </div>
  </div>
</nav>
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginModalLabel">用户登录</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="username">账号/用户名</label>
            <input type="text" class="form-control" id="username" placeholder="请输入用户名或邮箱地址">
          </div>
          <div class="form-group">
            <label for="password">密码</label>
            <input type="password" class="form-control" id="password" placeholder="请输入密码">
          </div>
          <button type="submit" class="btn btn-login btn-block">登录</button>
        </form>
      </div>
      <div class="modal-footer">
        <div class="alert alert-warning" role="alert" id="refreshAlert" style="display: none; cursor: pointer;">
          如果登录/注册失败，请尝试刷新页面或<a href="#" onclick="location.reload();">点此</a>以重新通过Cloudflare防火墙。
        </div>
        <a class="nav-link mr-right" href="iforgot.html">忘记密码?</a>
        <a class="nav-link" href="#" data-toggle="modal" data-target="#registerModal">注册账号</a>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="registerModalLabel">注册账户</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="username">用户名</label>
            <input type="text" class="form-control required-input" id="regusername" placeholder="请输入用户名">
          </div>
          <div class="form-group">
            <label for="password">密码</label>
            <input type="password" class="form-control required-input" id="regpassword" placeholder="请输入密码">
          </div>
          <div class="form-group">
            <label for="email">邮箱:</label>
            <input type="email" class="form-control required-input" id="email" name="email" required>
            <!-- 添加发送验证码按钮 -->
            <button type="button" class="btn btn-secondary" id="sendVerificationCode">发送验证码</button>
            <!-- 在注册模态框的表单中添加一个字段 -->
            <div class="form-group">
              <label for="verificationCode">验证码</label>
              <input type="text" class="form-control" id="verificationCode" placeholder="请输入验证码" required>
              <small id="emailHelp" class="form-text text-muted"
                     style="display: none;">我们已向您的邮箱发送了一个验证码。</small>
            </div>

          </div>
          <button type="submit" class="btn btn-login btn-block">注册</button>
          <div id="registerError" style="display:none;" class="alert alert-danger"></div>
        </form>
        <div class="modal-footer">
          <div class="alert alert-warning" role="alert" id="refreshAlert" style="display: none; cursor: pointer;">
            如果登录/注册失败，请尝试刷新页面或<a href="#" onclick="location.reload();">点此</a>以重新通过Cloudflare防火墙。
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- 站内信模态框 -->
<div class="modal fade" id="messagesModal" tabindex="-1" role="dialog" aria-labelledby="messagesModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="messagesModalLabel">站内信</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-4" id="conversationList">
            <!-- 对话列表将在这里动态加载 -->
          </div>
          <div class="col-8">
            <div id="messageList" style="height: 400px; overflow-y: auto;">
              <!-- 消息列表将在这里动态加载 -->
            </div>
            <div class="input-group mt-3">
              <input type="text" class="form-control" id="messageInput" placeholder="输入消息...">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button" id="sendMessage">发送</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
      </div>
    </div>
  </div>
</div>
<!-- 关于我们标题 -->
<div class="jumbotron">
  <div class="container">
    <div class="row">
      <div class="col">
        <h1 class="d-inline-block">About Us</h1>
      </div>
      <div class="col">
        <button type="button" class="btn btn-8uccess float-right" data-toggle="modal" data-target="#joinUsModal">
          Join Us
        </button>
      </div>
    </div>
    <p>
      We are a group of young people keen on environmental protection and technology. Our mission is to promote and practice a low-carbon lifestyle via this Campus Carbon Accounting System, raising awareness of the impact of carbon emissions on the planet and encouraging action to reduce carbon footprints, thereby protecting our shared home.</p>
    <!--<button>Join Us</button>-->
  </div>
</div>
<!-- 内容区域 -->
<div class="container">
  <!-- 内容标题 -->
  <h2>Team Members</h2>
  <!-- 内容段落 -->
  <p>Our team consists of the following passionate members:</p>
  <!-- 内容卡片 -->
  <div class="row">
    <div class="col-md-4">
      <!-- 内容卡片1 -->
      <div class="card">
        <!-- 内容卡片图片1
        <img src="^13^" class="card-img-top" alt="Yangyang 周奕涵">-->
        <!-- 内容卡片正文1 -->
        <div class="card-body">
          <!-- 内容卡片标题1 -->
          <h4 class="card-title">Yangyang 周奕涵</h4>
          <!-- 内容卡片文本1 -->
          <p class="card-text">周奕涵Yangyang，Carbon
            Track团队领导者，就读于上海市世外中学（WFLA）IBDP部，对经济和数学有着浓厚的兴趣。平常热爱运动，尤其喜欢打篮球。</p>
          <!-- 内容卡片按钮1 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片2 -->
      <div class="card">
        <!-- 内容卡片图片2 -->
        <!-- 内容卡片图片2
<img src="^14^" class="card-img-top" alt="Dora 徐语笛">-->
        <!-- 内容卡片正文2 -->
        <div class="card-body">
          <!-- 内容卡片标题2-->
          <h4 class="card-title">Dora 徐语笛</h4>
          <!-- 内容卡片文本2 -->
          <p class="card-text">
            Dora徐语笛是我们团队的核心成员之一，她就读于华南师范大学附属中学国际部（HFI），是本团队的内容组的成员之一，负责碳账户文献阅读整理，她希望让更多人都参与节能减排行动，共同改善环境问题，让世界变得更绿色环保。</p>
          <!-- 内容卡片按钮2 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Jerry 唐可">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Jerry 唐可</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">Jerry 唐可，Carbon
            Track团队副队长，上海平和学校10年级学生，负责碳账户前期调研和核算部分。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Amily高若萱">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Amily 高若萱</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">
            Amily高若萱是我们团队的核心成员之一，她就读于上海星河湾双语学校，是本团队的内容组的成员之一，主要负责碳账户背景调研文献阅读整理与碳核算部分。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Jeffery 吕子宁">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Jeffery 吕子宁</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">Jeffery
            吕子宁是我们的团队的核心成员之一，他是一位有着丰富经验的WEB全栈工程师，他负责我们的CTB碳账户系统的网页设计和维护，他的梦想是用技术来改变生活。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Hannah 张若菡">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Hannah 张若菡</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">
            Hannah张若菡是我们的团队的核心成员之一，负责阅读文献后充实项目的文案方面，也负责传媒方面的工作。她希望能尽自己的一份力来鼓舞大家从身边的小事做起，推动环境的保护。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Jack 虞源正">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Jack 虞源正</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">
            Jack虞源正是我们的团队的核心成员之一。他是技术组的成员之一，负责网页设计、制作、测试和维护，并与其他部门协调和统筹规划。他希望发挥网络的力量让每个人都参与到节能减排的行动当中，齐心协力改善环境问题，也从碳减排社区文化中获得乐趣和价值。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="Richard 胡睿晨">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Richard 胡睿晨</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">
            Richard胡睿晨是我们的团队精神的核心成员之一，他是本团队技术组的成员之一，负责制作网页和与其他部门协调。他希望通过互联网的媒介将环境问题和节能减排的理念传播到更广阔的社区中，让这个世界变得更加环保和绿色。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3 -->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">Mandy俞淑彦</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">
            Mandy俞淑彦，目前就读于美高，主要负责协助艺术设计，希望通过艺术作品感染他人，让世界增添一抹绿。</p>
          <!-- 内容卡片按钮3 -->
          <button>View More Details</button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- 内容卡片3 -->
      <div class="card">
        <!-- 内容卡片图片3
        <img src="^15^" class="card-img-top" alt="特别鸣谢">-->
        <!-- 内容卡片正文3 -->
        <div class="card-body">
          <!-- 内容卡片标题3 -->
          <h4 class="card-title">特别鸣谢 Special Thanks</h4>
          <!-- 内容卡片文本3 -->
          <p class="card-text">感谢“三座雪山_”提供的网页美工参谋和设计。她的个人网站：<a
              href="https://www.whensnowone.com/" target="_blank">https://www.whensnowone.com/</a></p>
          <!-- 内容卡片按钮3 -->
          <button id="spec">View More Details</button>
          <script>
            document.getElementById('spec').addEventListener('click', function () {
              window.open('https://www.whensnowone.com/', '_blank')
            })</script>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-3 mb-3">
    <!-- 内容标题 -->
    <h2>我们的任务与使命</h2>
    <!-- 内容段落 -->
    <p>我们的任务与使命是通过使用CTB碳账户系统，来帮助我们自己和其他人，实现以下几个方面的目标：</p>
    <!-- 内容列表 -->
    <ul>
      <li>以学生群体切入，提高学生对气候变化和碳排放问题的认识</li>
      <li>记录学生群体在生活中的碳足迹，帮助提升学生群体节能减排意识和参与度</li>
      <li>希望通过我们的微薄力量，让人们意识到节能减排的重要意义，进一步推广到整个社会层面对于保护生态环境的关注与认可
      </li>
      <li>参与和支持一些有利于环境保护和社会公益的活动和组织，为我们共同的家园做出贡献。</li>
    </ul>
  </div>
  <!-- 内容标题 -->
  <div class="section-achievements">
    <h2>我们的成就</h2>
    <!-- 内容段落 -->
    <p>通过使用CarbonTrack碳账户系统，我们已经取得了以下几个方面的成果：</p>
    <!-- 内容表格 -->
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>项目</th>
        <th>指标</th>
        <th>说明</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>碳减排量</td>
        <td>减少了<span id="totalPoints">加载中</span><br>KG的CO₂排放
        <td>我们通过使用CTB碳账户系统，记录和管理了我们的碳足迹，获得了相应的碳积分，享受了低碳生活的优惠。</td>
      </tr>
      <tr>
        <td>低碳社区人数</td>
        <td><span id="userCount">最近增加了加载中人</span></td>
        <td>我们通过分享我们的低碳经验和故事，扩大了我们的低碳社区，增强了我们的低碳意识，也吸引了更多的人加入我们的团队。
        </td>
      </tr>
      <tr>
        <td>碳账户记录次数</td>
        <td>处理了<span id="totalTimes">加载中条减排记录</span></td>
        <td>我们相信逐步增加的减排次数代表了我们带给社区的正向影响，以及网站稳定性。</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- 页脚 -->
<div id="footer-placeholder"></div>


<script>
  // 页面加载时检查登录状态
  $(document).ready(function () {
    updateButtonForRemainingTime()
    updateCommunityCount()
    updateTotalPoints()
  })


  // AJAX 请求获取社区人数
  function updateCommunityCount() {
    $.ajax({
      url: 'gtc.php', // 确保这是正确的 PHP 脚本 URL
      type: 'GET',
      dataType: 'json', // 确保预期的响应类型为 JSON
      success: function (response) {
        if (response && response.success) {
          $('#userCount').text('最近增加了' + response.count + '人')
        } else {
          $('#userCount').text('加载失败')
        }
      },
      error: function (xhr, status, error) {
        $('#userCount').text('加载失败')
        console.error('更新社区人数失败: ', status, error)
      },
    })
  }

  // AJAX 请求获取总积分
  function updateTotalPoints() {
    $.ajax({
      url: 'gtr.php', // 确保这是正确的 PHP 脚本 URL
      type: 'GET',
      dataType: 'json', // 确保预期的响应类型为 JSON
      success: function (response) {
        if (response && response.success) {
          $('#totalPoints').text(response.points / 10)
          $('#totalTimes').text(response.times + '次减排记录')
        }
      },
      error: function (xhr, status, error) {
        $('#totalPoints').text('加载失败')
        console.error('更新总积分失败: ', status, error)
      },
    })
  }
</script>
</body>
</html>
